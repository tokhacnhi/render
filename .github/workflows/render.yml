name: Render

on:
  push:
    branches:
      - main
    paths-ignore:
      - 'Dockerfile'
    # paths:
      # - "params.env"

  workflow_dispatch:

jobs:
  render:
    runs-on: ubuntu-latest

    container:
      image: ghcr.io/tokhacnhi/render/render:latest

    steps:
      - uses: actions/checkout@v5

      - name: Load params
        shell: bash
        run: |
          set -a
          . params.env
          set +a
      
      - name: Exectute
        run: |
          wget -O clips.zip "$CLIPS"
          unzip clips.zip -d clips

          wget -O sub.txt "$SUBS"
          wget -O audio.mp3 "$AUDIO"

          python render.py





      
